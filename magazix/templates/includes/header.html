{% load i18n static %}

  <header 
    class="fixed top-0 left-0 right-0 z-50 transition-all duration-300"
    style="font-family: 'Helvetica Bold', sans-serif;"
    :class="{ 'py-3 lg:pt-4 lg:pb-1': scrolled, 'py-3': !scrolled }"
    x-cloak
  x-data="{ 
    scrolled: false, 
    hovered: false,
    mobileMenuOpen: false,
    mobileSearchOpen: false
  }"
  x-init="scrolled = window.scrollY > 50; window.addEventListener('scroll', () => { scrolled = window.scrollY > 50 })"
  @mouseenter="hovered = true"
  @mouseleave="hovered = false"
>
  <!-- Background layer -->
  <div 
    class="absolute inset-0 transition-all duration-300"
    :class="(mobileSearchOpen || mobileMenuOpen) ? 'bg-white shadow-md' : (hovered ? 'bg-white shadow-md' : (scrolled ? 'bg-black/20 backdrop-blur-md' : 'bg-white/10 backdrop-blur-md'))"
  ></div>

  <div class="relative z-10 mx-auto max-w-[1440px] px-4 sm:px-6 lg:px-8">
    <!-- Top bar (hidden when scrolled) -->
    <div 
      class="hidden lg:flex items-center justify-between text-sm transition-all duration-300 overflow-hidden"
      :class="scrolled ? 'h-0 opacity-0 mb-0' : 'h-8 opacity-100 mb-3'"
    >
      <div class="flex items-center gap-6">
        <a href="#" class="transition-colors duration-300" :class="hovered ? 'text-gray-500 hover:text-[#ED1C24]' : 'text-white/80 hover:text-white'">
          Дистрибьютор
        </a>
        <a href="#" class="transition-colors duration-300" :class="hovered ? 'text-gray-500 hover:text-[#ED1C24]' : 'text-white/80 hover:text-white'">
          Проектировщик
        </a>
        <a href="#" class="transition-colors duration-300" :class="hovered ? 'text-gray-500 hover:text-[#ED1C24]' : 'text-white/80 hover:text-white'">
          CMO
        </a>
        <a href="#" class="transition-colors duration-300" :class="hovered ? 'text-gray-500 hover:text-[#ED1C24]' : 'text-white/80 hover:text-white'">
          Сборщик НКУ
        </a>
      </div>
      <div class="flex items-center gap-6">
        <a href="tel:88002505263" class="flex items-center gap-2 transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
          </svg>
          8 (800) 250-52-63
        </a>
        <button class="transition-colors duration-300" :class="hovered ? 'text-gray-500 hover:text-[#ED1C24]' : 'text-white/80 hover:text-white'">
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"/>
          </svg>
        </button>
        <button class="flex items-center gap-1 transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/>
          </svg>
          RU
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Main header -->
    <div class="flex items-center justify-start gap-2">
      <!-- Logo (desktop) -->
      <a href="{% url 'home' %}" class="flex-shrink-0 mr-8 hidden lg:block">
        <img 
          x-show="hovered" 
          src="{% static 'images/black_logo.svg' %}" 
          alt="Logo" 
          class="h-8 w-auto"
        >
        <img 
          x-show="!hovered" 
          src="{% static 'images/white_logo.svg' %}" 
          alt="Logo" 
          class="h-8 w-auto"
        >
      </a>

      <!-- Logo (mobile) -->
      <a href="{% url 'home' %}" class="flex-shrink-0 lg:hidden mr-2" x-show="!mobileSearchOpen">
        <img 
          x-show="hovered || mobileMenuOpen" 
          src="{% static 'images/black_logo.svg' %}" 
          alt="Logo" 
          class="h-5 w-auto"
        >
        <img 
          x-show="!hovered && !mobileMenuOpen" 
          src="{% static 'images/white_logo.svg' %}" 
          alt="Logo" 
          class="h-5 w-auto"
        >
      </a>

      <!-- Back button (mobile search active) -->
      <button 
        x-show="mobileSearchOpen"
        @click="mobileSearchOpen = false"
        class="lg:hidden p-2 -ml-2 flex-shrink-0 text-gray-600 hover:text-gray-800 transition-colors"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
        </svg>
      </button>

      <!-- Mobile search bar -->
      <div class="flex-1 lg:hidden" x-show="mobileSearchOpen" x-transition>
        <div class="relative">
          <input
            type="text"
            placeholder="Поиск"
            x-ref="mobileSearchInput"
            class="w-full px-4 py-2.5 pr-12 bg-gray-100 text-gray-800 placeholder-gray-500 rounded-lg outline-none focus:bg-gray-200 transition-colors"
          >
          <button class="absolute right-1 top-1/2 -translate-y-1/2 p-2 rounded-md bg-[#ED1C24] text-white hover:bg-[#C1000D] transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Mobile search trigger -->
      <button 
        x-show="!mobileSearchOpen"
        @click="mobileMenuOpen = false; mobileSearchOpen = true; $nextTick(() => $refs.mobileSearchInput.focus())"
        class="lg:hidden flex-1 flex items-center"
      >
        <div class="relative w-full">
          <div 
            class="w-full px-4 py-2.5 pr-12 rounded-lg text-left transition-colors duration-300"
            :class="(hovered || mobileMenuOpen) ? 'bg-gray-100 text-gray-500' : 'bg-white/10 text-white/70'"
          >
            Поиск
          </div>
          <div 
            class="absolute right-1 top-1/2 -translate-y-1/2 p-2 rounded-md bg-[#ED1C24] text-white"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
          </div>
        </div>
      </button>

      <!-- Catalog button with dropdown -->
      <div 
        class="relative hidden lg:block"
        x-data="{ catalogOpen: false }"
        @mouseenter="catalogOpen = true"
        @mouseleave="catalogOpen = false"
      >
        <button 
          class="flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium transition-all duration-300 bg-[#E2000F] text-white hover:bg-[#C1000D]"
        >
          <div class="grid grid-cols-3 gap-0.5">
            <div class="w-1 h-1 bg-white rounded-full"></div>
            <div class="w-1 h-1 bg-white rounded-full"></div>
            <div class="w-1 h-1 bg-white rounded-full"></div>
            <div class="w-1 h-1 bg-white rounded-full"></div>
            <div class="w-1 h-1 bg-white rounded-full"></div>
            <div class="w-1 h-1 bg-white rounded-full"></div>
            <div class="w-1 h-1 bg-white rounded-full"></div>
            <div class="w-1 h-1 bg-white rounded-full"></div>
            <div class="w-1 h-1 bg-white rounded-full"></div>
          </div>
          КАТАЛОГ
          <svg 
            class="w-4 h-4 transition-transform duration-200" 
            :class="catalogOpen ? 'rotate-180' : ''"
            fill="none" 
            stroke="currentColor" 
            viewBox="0 0 24 24"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </button>
        
        <!-- Dropdown menu -->
        <div 
          x-show="catalogOpen"
          x-transition:enter="transition ease-out duration-200"
          x-transition:enter-start="opacity-0 translate-y-1"
          x-transition:enter-end="opacity-100 translate-y-0"
          x-transition:leave="transition ease-in duration-150"
          x-transition:leave-start="opacity-100 translate-y-0"
          x-transition:leave-end="opacity-0 translate-y-1"
          class="absolute left-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-100 p-6 z-50"
          style="display: none;"
        >
          <div class="grid grid-cols-3 gap-6 min-w-[700px]">
            <!-- Колонка 1 -->
            <div class="space-y-1">
              <h3 class="font-semibold text-gray-900 mb-3 pb-2 border-b border-gray-100">Электрооборудование</h3>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Автоматические выключатели</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Контакторы</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Реле</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Предохранители</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Рубильники</a>
            </div>
            
            <!-- Колонка 2 -->
            <div class="space-y-1">
              <h3 class="font-semibold text-gray-900 mb-3 pb-2 border-b border-gray-100">Автоматика</h3>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Программируемые реле</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">ПЛК</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Панели оператора</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Датчики</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Частотные преобразователи</a>
            </div>
            
            <!-- Колонка 3 -->
            <div class="space-y-1">
              <h3 class="font-semibold text-gray-900 mb-3 pb-2 border-b border-gray-100">Кабельная продукция</h3>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Кабель-каналы</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Гофротрубы</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Клеммы</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Наконечники</a>
              <a href="#" class="block py-2 text-gray-600 hover:text-[#E2000F] transition-colors">Маркировка</a>
            </div>
          </div>
          
          <!-- Footer -->
          <div class="border-t border-gray-100 mt-4 pt-4">
            <a href="#" class="inline-flex items-center gap-2 text-[#E2000F] font-medium hover:underline transition-colors">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"/>
              </svg>
              Новинки каталога
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </a>
          </div>
        </div>
      </div>

      <!-- Navigation links (visible when scrolled) -->
      <div 
        x-show="scrolled"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-150"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="hidden lg:flex items-center gap-6 ml-6 mr-8"
      >
        <a href="#" class="text-base font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          Новости
        </a>
        <a href="#" class="text-base font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          О компании
        </a>
        <a href="#" class="text-base font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          Поддержка
        </a>
        <a href="{% url 'about' %}" class="text-base font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          Контакты
        </a>
        <a href="#" class="text-base font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          Где купить
        </a>
      </div>

      <!-- Search -->
      <div 
        class="hidden lg:flex flex-1"
        x-data="{ searchQuery: '', searchFocused: false }"
      >
        <div class="relative w-full">
          <input
            type="text"
            placeholder="Поиск"
            x-model="searchQuery"
            @focus="searchFocused = true"
            @blur="setTimeout(() => searchFocused = false, 200)"
            class="w-full px-4 py-2.5 pr-12 rounded-lg outline-none transition-all duration-300"
            :class="hovered ? 'bg-gray-100 text-gray-800 placeholder-gray-500 focus:bg-gray-200' : 'bg-white/10 text-white placeholder-white/70 focus:bg-white/20'"
          >
          <button class="absolute right-1 top-1/2 -translate-y-1/2 p-2 rounded-md bg-[#ED1C24] text-white hover:bg-[#C1000D] transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
          </button>
          
          <!-- Search dropdown -->
          <div 
            x-show="searchFocused && searchQuery.length > 0"
            x-transition:enter="transition ease-out duration-200"
            x-transition:enter-start="opacity-0 translate-y-1"
            x-transition:enter-end="opacity-100 translate-y-0"
            x-transition:leave="transition ease-in duration-150"
            x-transition:leave-start="opacity-100 translate-y-0"
            x-transition:leave-end="opacity-0 translate-y-1"
            class="absolute left-0 right-0 top-full mt-2 bg-white rounded-lg shadow-xl border border-gray-100 z-50 overflow-hidden"
            style="display: none;"
          >
            <!-- Search header -->
            <div class="px-4 py-3 bg-gray-50 border-b border-gray-100">
              <p class="text-sm text-gray-500">Результаты поиска по запросу: <span class="font-medium text-gray-800" x-text="searchQuery"></span></p>
            </div>
            
            <!-- Popular searches -->
            <div class="px-4 pt-4 pb-2">
              <h4 class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3">Часто ищут</h4>
              <div class="flex flex-wrap gap-2">
                <button @click="searchQuery = 'автоматический выключатель'" class="px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-[#E2000F] hover:text-white transition-colors">
                  Автоматический выключатель
                </button>
                <button @click="searchQuery = 'контактор'" class="px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-[#E2000F] hover:text-white transition-colors">
                  Контактор
                </button>
                <button @click="searchQuery = 'реле'" class="px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-[#E2000F] hover:text-white transition-colors">
                  Реле
                </button>
                <button @click="searchQuery = 'ПЛК'" class="px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-[#E2000F] hover:text-white transition-colors">
                  ПЛК
                </button>
                <button @click="searchQuery = 'кабель-канал'" class="px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-[#E2000F] hover:text-white transition-colors">
                  Кабель-канал
                </button>
              </div>
            </div>
            
            <!-- Products section -->
            <div class="p-4">
              <h4 class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3">Товары</h4>
              <div class="space-y-2 max-h-72 overflow-y-auto pr-2 scrollbar-thin">
                <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors">
                  <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                    </svg>
                  </div>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-800 truncate">Автоматический выключатель ВА-101</p>
                    <p class="text-xs text-gray-500">Электрооборудование</p>
                  </div>
                  <span class="flex items-center gap-1 text-sm text-[#E2000F] hover:underline flex-shrink-0">
                    Где купить
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </span>
                </a>
                <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors">
                  <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                    </svg>
                  </div>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-800 truncate">Контактор КМ-102 25А</p>
                    <p class="text-xs text-gray-500">Автоматика</p>
                  </div>
                  <span class="flex items-center gap-1 text-sm text-[#E2000F] hover:underline flex-shrink-0">
                    Где купить
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </span>
                </a>
                <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors">
                  <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                    </svg>
                  </div>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-800 truncate">Реле промежуточное РП-21</p>
                    <p class="text-xs text-gray-500">Электрооборудование</p>
                  </div>
                  <span class="flex items-center gap-1 text-sm text-[#E2000F] hover:underline flex-shrink-0">
                    Где купить
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </span>
                </a>
                <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors">
                  <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                    </svg>
                  </div>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-800 truncate">Предохранитель ПН2-100</p>
                    <p class="text-xs text-gray-500">Электрооборудование</p>
                  </div>
                  <span class="flex items-center gap-1 text-sm text-[#E2000F] hover:underline flex-shrink-0">
                    Где купить
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </span>
                </a>
                <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors">
                  <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
                    </svg>
                  </div>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-800 truncate">ПЛК ОВЕН 110</p>
                    <p class="text-xs text-gray-500">Автоматика</p>
                  </div>
                  <span class="flex items-center gap-1 text-sm text-[#E2000F] hover:underline flex-shrink-0">
                    Где купить
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </span>
                </a>
                <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors">
                  <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                  </div>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-800 truncate">Панель оператора СП310</p>
                    <p class="text-xs text-gray-500">Автоматика</p>
                  </div>
                  <span class="flex items-center gap-1 text-sm text-[#E2000F] hover:underline flex-shrink-0">
                    Где купить
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </span>
                </a>
                <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors">
                  <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                    </svg>
                  </div>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-800 truncate">Частотный преобразователь ПЧВ3</p>
                    <p class="text-xs text-gray-500">Автоматика</p>
                  </div>
                  <span class="flex items-center gap-1 text-sm text-[#E2000F] hover:underline flex-shrink-0">
                    Где купить
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </span>
                </a>
                <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors">
                  <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                    </svg>
                  </div>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-800 truncate">Кабель-канал 40x25 мм</p>
                    <p class="text-xs text-gray-500">Кабельная продукция</p>
                  </div>
                  <span class="flex items-center gap-1 text-sm text-[#E2000F] hover:underline flex-shrink-0">
                    Где купить
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </span>
                </a>
                <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors">
                  <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"/>
                    </svg>
                  </div>
                  <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-gray-800 truncate">Клеммник проходной КПП-4</p>
                    <p class="text-xs text-gray-500">Кабельная продукция</p>
                  </div>
                  <span class="flex items-center gap-1 text-sm text-[#E2000F] hover:underline flex-shrink-0">
                    Где купить
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                  </span>
                </a>
              </div>
            </div>
            
            <!-- Categories section -->
            <div class="px-4 pb-4">
              <h4 class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3">Категории</h4>
              <div class="flex flex-wrap gap-2">
                <a href="#" class="px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-[#E2000F] hover:text-white transition-colors">
                  Автоматические выключатели
                </a>
                <a href="#" class="px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-[#E2000F] hover:text-white transition-colors">
                  Контакторы
                </a>
                <a href="#" class="px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded-full hover:bg-[#E2000F] hover:text-white transition-colors">
                  Реле
                </a>
              </div>
            </div>
            
            <!-- Footer -->
            <div class="px-4 py-3 bg-gray-50 border-t border-gray-100">
              <a href="#" class="flex items-center justify-center gap-2 text-[#E2000F] font-medium hover:underline">
                Показать все результаты
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Action buttons -->
      <div class="hidden lg:flex items-center gap-2">
        <button 
          class="p-2.5 rounded-lg transition-all duration-300"
          :class="hovered ? 'bg-gray-100 text-gray-700 hover:bg-gray-200 hover:text-[#ED1C24]' : 'bg-white/10 text-white hover:bg-white/20'"
        >
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
          </svg>
        </button>
        {% if request.user.is_authenticated %}
          <a 
            href="{% url 'account_logout' %}"
            class="p-2.5 rounded-lg transition-all duration-300"
            :class="hovered ? 'bg-gray-100 text-gray-700 hover:bg-gray-200 hover:text-[#ED1C24]' : 'bg-white/10 text-white hover:bg-white/20'"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
            </svg>
          </a>
        {% else %}
          <a 
            href="{% url 'account_login' %}"
            class="p-2.5 rounded-lg transition-all duration-300"
            :class="hovered ? 'bg-gray-100 text-gray-700 hover:bg-gray-200 hover:text-[#ED1C24]' : 'bg-white/10 text-white hover:bg-white/20'"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/>
            </svg>
          </a>
        {% endif %}
      </div>

      <!-- Mobile menu button -->
      <button
        x-show="!mobileSearchOpen"
        class="lg:hidden p-2.5 rounded-lg transition-colors duration-300 flex-shrink-0"
        :class="(hovered || mobileMenuOpen) ? 'bg-gray-100 text-gray-600' : 'bg-white/10 text-white'"
        @click="mobileMenuOpen = !mobileMenuOpen"
      >
        <svg x-show="!mobileMenuOpen" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
        </svg>
        <svg x-show="mobileMenuOpen" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: none;">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>

    <!-- Navigation (hidden when scrolled) -->
    <nav 
      class="hidden lg:flex items-center justify-between mt-4 transition-all duration-300 overflow-hidden"
      :class="scrolled ? 'h-0 opacity-0 mt-0 pb-0' : 'h-auto opacity-100 pb-2'"
    >
      <div class="flex items-center gap-6">
        <a href="#" class="flex items-center gap-1 text-sm font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          Новости
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </a>
        <a href="#" class="flex items-center gap-1 text-sm font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          О компании
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </a>
        <a href="#" class="flex items-center gap-1 text-sm font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          Поддержка
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </a>
        <a href="{% url 'about' %}" class="text-sm font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          Контакты
        </a>
        <a href="#" class="text-sm font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          Где купить
        </a>
      </div>
      <div class="flex items-center gap-6">
        <a href="#" class="flex items-center gap-1 text-sm font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          Интернет-магазин
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
          </svg>
        </a>
        <a href="#" class="flex items-center gap-1 text-sm font-medium transition-colors duration-300" :class="hovered ? 'text-gray-800 hover:text-[#ED1C24]' : 'text-white hover:text-white/80'">
          Учебный центр
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
          </svg>
        </a>
      </div>
    </nav>
  </div>

  <!-- Mobile menu -->
  <div 
    x-show="mobileMenuOpen"
    x-transition:enter="transition ease-out duration-100"
    x-transition:enter-start="opacity-0 scale-95"
    x-transition:enter-end="opacity-100 scale-100"
    x-transition:leave="transition ease-in duration-75"
    x-transition:leave-start="opacity-100 scale-100"
    x-transition:leave-end="opacity-0 scale-95"
    class="lg:hidden absolute top-full left-0 right-0 bg-white shadow-lg"
    style="display: none;"
  >
    <div class="p-4 space-y-4">
      <button class="w-full flex items-center justify-center gap-2 px-4 py-3 bg-[#ED1C24] text-white rounded-lg font-medium">
        <div class="grid grid-cols-3 gap-0.5">
          <div class="w-1 h-1 bg-white rounded-full"></div>
          <div class="w-1 h-1 bg-white rounded-full"></div>
          <div class="w-1 h-1 bg-white rounded-full"></div>
          <div class="w-1 h-1 bg-white rounded-full"></div>
          <div class="w-1 h-1 bg-white rounded-full"></div>
          <div class="w-1 h-1 bg-white rounded-full"></div>
          <div class="w-1 h-1 bg-white rounded-full"></div>
          <div class="w-1 h-1 bg-white rounded-full"></div>
          <div class="w-1 h-1 bg-white rounded-full"></div>
        </div>
        КАТАЛОГ
      </button>
      <nav class="space-y-2">
        <a href="#" class="flex items-center justify-between px-4 py-3 text-gray-800 hover:bg-gray-100 rounded-lg">
          Решения
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </a>
        <a href="#" class="flex items-center justify-between px-4 py-3 text-gray-800 hover:bg-gray-100 rounded-lg">
          Клиентам
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </a>
        <a href="#" class="flex items-center justify-between px-4 py-3 text-gray-800 hover:bg-gray-100 rounded-lg">
          О компании
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
          </svg>
        </a>
        <a href="{% url 'about' %}" class="block px-4 py-3 text-gray-800 hover:bg-gray-100 rounded-lg">Где купить</a>
        <a href="#" class="block px-4 py-3 text-gray-800 hover:bg-gray-100 rounded-lg">Контакты</a>
      </nav>
      <div class="pt-4 border-t space-y-2">
        <a href="{% url 'home' %}" class="block px-4 py-3 text-gray-800 hover:bg-gray-100 rounded-lg">{% translate "Home" %}</a>
        <a href="{% url 'about' %}" class="block px-4 py-3 text-gray-800 hover:bg-gray-100 rounded-lg">{% translate "About" %}</a>
        {% if request.user.is_authenticated %}
          <a href="{% url 'users:detail' request.user.pk %}" class="block px-4 py-3 text-gray-800 hover:bg-gray-100 rounded-lg">{% translate "My Profile" %}</a>
          <a href="{% url 'account_logout' %}" class="block px-4 py-3 text-red-600 hover:bg-gray-100 rounded-lg">{% translate "Logout" %}</a>
        {% else %}
          <a href="{% url 'account_login' %}" class="block px-4 py-3 text-[#ED1C24] hover:bg-gray-100 rounded-lg">{% translate "Login" %}</a>
          {% if ACCOUNT_ALLOW_REGISTRATION %}
            <a href="{% url 'account_signup' %}" class="block px-4 py-3 text-gray-800 hover:bg-gray-100 rounded-lg">{% translate "Register" %}</a>
          {% endif %}
        {% endif %}
      </div>
    </div>
  </div>
</header>

<!-- Spacer for fixed header -->
<div class="h-24 lg:h-32"></div>